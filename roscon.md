## 概要

ROS2開発における操作の煩雑さを低減するためにCLIツールを作成しました（レポジトリは７月に公開予定です）．
本ツールは１つのターミナルで完結するように作られており，主な機能には下記のようなものが挙げられます．

- ノードの起動・停止
- ライフサイクルノードの遷移
- ノードのログの表示
- トピックの表示およびパブリッシュ
- パラメータの表示・設定

本ツールにより複数のターミナルを立ち上げる必要がなくなるため，目的のターミナルを探す手間が省け，開発環境をシンプルに保つことができるようになります．



## 背景と目的

ROSの開発では，ノードの起動方法に`ros2 run`と`ros2 launch`という２つの方法がありますが，それぞれ下記のような問題がありました．

- `ros2 run`
  - 利点：１つのターミナルで表示されるログは基本的に１つのノードであるため，`ros2 launch`と異なりログの確認が容易です．
  - 欠点：ノードの数が増えるに従いターミナルの数も増加します．その結果，目的のノードが立ち上がっているターミナルを見つけるために，あちこちのターミナルを確認する必要があります．

- `ros2 launch`
  - 利点：１つのターミナルに情報が集約されるため，目的のノードが起動しているターミナルを探す必要がありません．
  - 欠点：複数のノードのログが１つのターミナル上に混在することになり，エラー時発生に原因の確認が難しくなります．

以前にも似たようなツールは存在しました．それらは情報の表示にとどまっており，ノードの起動やライフサイクルノードの遷移を行う機能を有するものはありませんでした．本ツールは情報の集約のみならずノードの管理も行うことにより，より快適なROS開発生活をエンジョイすることに寄与します．



## CLIツールの機能紹介

ツールの全体像を下記に示します．
![image_topview](https://github.com/harumo11/roscon_jp_2025/blob/main/topview.png?raw=ture)
> 画像が表示されない場合はhttps://github.com/harumo11/roscon_jp_2025/blob/main/topview.pngからご確認頂けます．

### 1. ノード一覧（左上）

- 実行中のROS2ノードが一覧で表示されます．
- ユーザは一覧からノード選択し，そのノードが出力しているログやノード情報を確認できます．
- 選択したノードを起動・停止させることが可能です．ただし起動には設定ファイルが必要です．
- ライフサイクルノードの場合はノード名の横にLマークが表示されます．
- ライフサイクルノードを選択することにより，下図のように遷移を管理することができます．
  ![image_lifecycle_trans](https://github.com/harumo11/roscon_jp_2025/blob/main/lifecycle_node.png?raw=true)
  
  > 画像が表示されない場合はhttps://github.com/harumo11/roscon_jp_2025/blob/main/lifecycle_node.pngからご確認頂けます．

### 2. トピック一覧（左中央）

- 使用されているトピックが一覧で表示されます．
- ユーザは一覧からトピックを選択し，下図のように内容を表示することが可能です．
- また，トピックの型も表示可能です．
  ![image_topic_echo](https://github.com/harumo11/roscon_jp_2025/blob/main/topic_echo.png?raw=true)
  
  > 画像が表示されない場合はhttps://github.com/harumo11/roscon_jp_2025/blob/main/topic_echo.pngからご確認頂けます．

### 3. パラメータ一覧（左下）

- 使用されているパラメータが一覧で表示されます．
- 選択することにより，下図のようにパラメータの値を表示および設定することが可能です．
  ![image_param_window](https://github.com/harumo11/roscon_jp_2025/blob/main/parameters_window.png?raw=true)
  
  > 画像が表示されない場合はhttps://github.com/harumo11/roscon_jp_2025/blob/main/parameters_window.pngからご確認頂けます．

### 4. ログ/ノード情報（右側）

- ノード一覧で選択したノードのログやノード情報が表示されます．



## まとめ

- ROS開発における画面の煩雑さを減らし，シンプルに保つことによって，デバッグ効率を上げるためにツールを開発しました．
- １つのターミナルに情報を集約し，デバッグ中に頻発するノードの起動・停止の操作も統合しました．
- 本ツールを使用することでROS2システムのデバッグ効率が上がり，より品質の高いシステムが作れると考えています．
